import{c as v,a as l,u as f,b,d as N,e as w,j as s,C as y,f as i,g as n,h as S,i as I,k as E,l as t,m as c,n as d,o as L,p as m,q as k,r as A,s as B,t as F,U as H,v as M}from"./index-C-Nb-lTO.js";var T=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M384,200V144a128,128,0,0,0-256,0v56H88V328c0,92.635,75.364,168,168,168s168-75.365,168-168V200ZM160,144a96,96,0,0,1,192,0v56H160ZM392,328c0,74.99-61.01,136-136,136s-136-61.01-136-136V232H392Z' class='ci-primary'/>"];const V=v().shape({email:l().required("Email обязателен"),password:l().required("Пароль обязателен")}),R=()=>{const h=f(),p=b(),a=N(r=>r.auth.isLoading),{register:o,handleSubmit:x,setError:u,formState:{errors:e}}=w({resolver:F(V)}),j=()=>p("/home"),C=r=>{const g={...r,role:H.ADMIN};a||h(M({data:g,setError:u,navigateToHomePage:j}))};return s.jsx("div",{className:"bg-light min-vh-100 d-flex flex-row align-items-center",children:s.jsx(y,{children:s.jsx(i,{className:"justify-content-center",children:s.jsx(n,{md:8,children:s.jsx(S,{className:"p-4",children:s.jsx(I,{children:s.jsxs(E,{onSubmit:x(C),id:"login-form",children:[s.jsx("h1",{children:"Авторизация"}),s.jsx("p",{className:"text-medium-emphasis",children:"Вход в аккаунт"}),s.jsxs(t,{className:"mb-3",children:[s.jsx(c,{children:s.jsx(d,{icon:L})}),s.jsx(m,{placeholder:"Email",autoComplete:"username",invalid:!!e.email,...o("email")})]}),s.jsxs(t,{className:"mb-4",children:[s.jsx(c,{children:s.jsx(d,{icon:T})}),s.jsx(m,{type:"password",placeholder:"Пароль",autoComplete:"current-password",invalid:!!e.password,...o("password")})]}),s.jsx(i,{children:s.jsx(n,{children:s.jsx(k,{type:"submit",color:"primary",className:"px-4 mb-3 d-flex align-items-center justify-content-center",style:{width:"100px",height:"40px"},disabled:a,children:a?s.jsx(s.Fragment,{children:s.jsx(A,{size:"sm"})}):"Войти"})})}),s.jsx(i,{children:s.jsx(n,{children:s.jsx(B,{color:"danger",className:"m-0",hidden:!(e.email||e.password),children:"Неверный логин/пароль"})})})]})})})})})})})};export{R as default};
